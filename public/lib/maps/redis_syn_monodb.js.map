{"version":3,"sources":["redis_syn_monodb.coffee"],"names":[],"mappings":"AAAA,IAAA;;AAAA,KAAA,GAAQ,OAAA,CAAQ,OAAR;;AACR,MAAA,GAAS,KAAK,CAAC,YAAN,CAAA;;AACT,aAAA,GAAgB,OAAA,CAAQ,iBAAR;;AAChB,SAAA,GAAY,aAAa,CAAC,GAAd,CAAkB,MAAlB;;AAGZ,YAAA,GAAe,SAAC,SAAD,EAAY,EAAZ;SACb,MAAM,CAAC,OAAP,CAAe,SAAf,EAA0B,SAAC,GAAD,EAAM,MAAN;IACvB,IAAG,GAAH;AACE,aAAO,EAAA,CAAG,SAAH,EADT;;IAEA,IAAG,MAAH;AACE,aAAO,EAAA,CAAG,MAAH,EADT;KAAA,MAAA;aAGE,SAAS,CAAC,WAAV,CAAsB,MAAtB,EAA8B,SAA9B,CAAwC,CAAC,IAAzC,CAA8C,SAAC,GAAD,EAAK,IAAL;AAC5C,YAAA;QAAA,IAAG,GAAH;AACC,iBAAQ,EAAA,CAAG,SAAH,EADT;;QAEA,IAAG,IAAH;UACE,UAAA,GACE;YAAA,IAAA,EAAM,IAAI,CAAC,IAAX;YACA,QAAA,EAAU,IAAI,CAAC,QADf;YAEA,UAAA,EAAY,IAAI,CAAC,UAFjB;;iBAGF,MAAM,CAAC,KAAP,CAAa,SAAb,EAAwB,UAAxB,EAAoC,SAAC,GAAD;YACjC,OAAO,CAAC,GAAR,CAAY,UAAZ,EAAwB,GAAxB;mBACA,EAAA,CAAG,UAAH;UAFiC,CAApC,EALF;;MAH4C,CAA9C,EAHF;;EAHuB,CAA1B;AADa;;AAuBf,MAAM,CAAC,OAAP,GACE;EAAA,WAAA,EAAa,YAAb","file":"redis_syn_monodb.js","sourceRoot":"/source/","sourcesContent":["redis = require 'redis'\nclient = redis.createClient()\nDBModelManger = require './dbmodelmanger'\nuserModle = DBModelManger.get('user')\n\n\n_getUserData = (_username, cb) ->\n  client.hgetall(_username, (err, object) ->\n     if err\n       return cb(\"is serr\")\n     if object\n       return cb(object)\n     else\n       userModle.findByField(\"name\", _username).done (err,data) ->\n         if err\n          return  cb(\"is serr\")\n         if data\n           _save_data =\n             name: data.name\n             password: data.password\n             discriable: data.discriable\n           client.hmset(_username, _save_data, (err) ->\n              console.log \"errrr-->\", err\n              cb(_save_data)\n           )\n\n\n  )\n\nmodule.exports =\n  getUserData: _getUserData\n\n"]}