var Schema,Sequelize,_loadMongoModel,_loadMySqlModel,config,db,mongoose,path,sequelize;config=require("./../config"),path=require("path"),db=config.db,db.mysql?(Sequelize=require("sequelize"),sequelize=new Sequelize(db.mysql.database,db.mysql.username,db.mysql.password({define:{underscored:!1,freezeTableName:!0,charset:"utf8",collate:"utf8_general_ci",timestamps:!1},host:db.mysql.host,maxConcurrentQueries:120,logging:!0})),console.log("mysql connect..")):console.log("no configure mysql.."),_loadMySqlModel=function(e){var o,l,n;return o=require(path.join(config.base_path,db.db_dir_name,e+config.script_ext)),n={},o.tableName&&(n.tableName=o.tableName,delete o.tableName),l=sequelize.define(e.replace(/\/|\\/g,"_"),o,n),l.db_type="sql",l},db.mongodb?(mongoose=require("mongoose"),Schema=mongoose.Schema,mongoose.connect("mongodb://localhost/user"),console.log("mongoose connect..")):console.log("no configure mongoose.."),_loadMongoModel=function(e){var o;return o=mongoose.model(e.replace(/\//g,"_"),new Schema(require(path.join(config.base_path,db.db_dir_name,e+config.script_ext)))),o.db_type="mongodb",o},module.exports={loadMySqlModel:_loadMySqlModel,loadMongoModel:_loadMongoModel};