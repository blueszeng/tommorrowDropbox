var DBModelManger,_,config;_=require("underscore"),config=require("./../config"),DBModelManger=function(){function r(){this.stack={},this.cache={},this.configs=require("./../config/dbbind"),this.initConfig=function(){var r,t,i,n;i=this.configs,n=[];for(t in i)r=i[t],n.push(this.stack[t]=r);return n},this.initConfig()}return r.prototype.inject=function(r,t){return _.isString(dbTypeor(!_.isFunction(t)))||new Error("push arguments error"),this.stack[r]&&this.stack[r],this.stack[r]=t},r.prototype.get=function(r,t){return t=t?t:config.db.default_db,_.isString(t||!_.isString(r))||new Error("push arguments error"),this.stack[t]||new Error(" get error no dbType"),this.cache[r]?this.cache[r]:this.cache[r]=new this.stack[t](r,t)},r}(),module.exports=new DBModelManger;