var Controller,config,filtersConfig,path;config=require("./../config"),path=require("path"),filtersConfig=require("./../config/filters.js"),Controller=function(){function t(t,e,r){var i,n,o,s;this.func=t,this.filters=[],this.afterFilters=[],this.mainRounte=null,this.method=r,this.path=e,this.name=e.replace(/.*\//,""),this.newName=null,s=this;for(n in filtersConfig)i=RegExp(n),o=filtersConfig[n],o[this.method]&&i.test("/"+this.path)&&o[this.method].forEach(function(t){return s.filters.push(require(e.join(config.route.filters,t)))});this.renderRoute=function(t,r,i){return console.log(r.render,e+".jade",s.name+".jade",t.sendData),r.render(e+".jade",t.sendData)},this.mainRoute=t.call(this)}return t.prototype.getRoutes=function(){return this.filters.concat([this.mainRoute]).concat(this.afterFilters)},t.prototype.useFilters=function(t){var e;return e=this,t.forEach(function(t){return e.filters.push(require(path.join(config.base_path,config.route.filters,t)))})},t.prototype.userAfterFilters=function(t){var e;return e=this,t.forEach(function(t){return e.afterFilters.push(require(path.join(config.base_path,config.route.filters,t)))})},t.prototype.rename=function(t){return this.newName=t},t}(),module.exports=Controller;